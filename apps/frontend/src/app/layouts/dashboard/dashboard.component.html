<nz-layout class="h-full">

    <nz-sider class="border-r" nzBreakpoint="md" [nzCollapsedWidth]="0" [nzCollapsed]="collapsed" (nzCollapsedChange)="collapsedChange()"
        nzTheme="light" [nzWidth]="250">
        <nz-header class="flex items-center px-6 mb-5 bg-transparent">
            <img src="images/logo.svg" alt="logo" class="h-8 invert" />
        </nz-header>
        <ul nz-menu nzMode="inline">
            <li nz-menu-item nzMatchRouter nzMatchRouterExact>
                <a routerLink="/dashboard">Todos</a>
            </li>
            <!-- <li nz-menu-item nzMatchRouter>
                    <a routerLink="/dashboard/todos">Todos</a>
                </li> -->
        </ul>
    </nz-sider>

    <nz-layout>
        <nz-header class="flex items-center justify-between px-2 bg-white border-b md:px-8 ">
            <button nz-button nzType="text" (click)="collapsedChange()" class="block md:hidden">
                <span nz-icon [nzType]="collapsed?'menu':'close'"></span>
            </button>
            <h3 nz-typography class="capitalize">{{title}}</h3>
            <nz-space>
                <nz-avatar *nzSpaceItem nzTrigger="click" nz-dropdown nzPlacement="bottomRight" [nzDropdownMenu]="menu"
                    nzSize="large" nzIcon="user"></nz-avatar>
                <p nz-typography *nzSpaceItem class="capitalize">
                    <strong>{{(user$|async)?.username}}</strong></p>
            </nz-space>
            <nz-dropdown-menu #menu="nzDropdownMenu">
                <ul nz-menu>
                    <button (click)="handleLogout()">
                        <li class="w-40" nz-menu-item>
                            <span nz-icon nzType="logout"></span>
                            Logout
                        </li>
                    </button>
                </ul>
            </nz-dropdown-menu>
        </nz-header>

        <nz-content class="px-2 py-5 overflow-y-auto md:px-8">
            <router-outlet></router-outlet>
        </nz-content>
    </nz-layout>
</nz-layout>